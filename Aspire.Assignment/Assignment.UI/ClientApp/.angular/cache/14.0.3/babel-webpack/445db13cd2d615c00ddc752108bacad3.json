{"ast":null,"code":"import { Chart } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/account.service\";\nimport * as i2 from \"../_services/user.service\";\nconst _c0 = [\"pieCanvas\"];\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(accountService, userService) {\n      this.accountService = accountService;\n      this.userService = userService;\n      this.user = this.accountService.userValue;\n    }\n\n    ngAfterViewInit() {\n      this.userService.getDownloadedReport().subscribe(data => {\n        this.appDownloaded = data;\n        console.log(this.appDownloaded);\n        this.pieChartBrowser(data);\n      });\n    }\n\n    getAppName(data) {\n      const appNameArray = new Array();\n\n      for (let index = 0; index < data.length; index++) {\n        const element = data[index]['appName'];\n        appNameArray.push(element);\n      }\n\n      return appNameArray;\n    }\n\n    getAppDownloadedCount(data) {\n      const appDownloadedCount = new Array();\n\n      for (let index = 0; index < data.length; index++) {\n        const element = data[index]['numberOfDownloads'];\n        appDownloadedCount.push(element);\n      }\n\n      return appDownloadedCount;\n    }\n\n    pieChartBrowser(appD) {\n      this.canvas = this.pieCanvas.nativeElement;\n      this.ctx = this.canvas.getContext('2d');\n      this.pieChart = new Chart(this.ctx, {\n        type: 'bar',\n        data: {\n          labels: this.getAppName(appD),\n          datasets: [{\n            backgroundColor: ['#2ecc71', '#3498db', '#95a5a6', '#9b59b6', '#f1c40f', '#e74c3c'],\n            data: this.getAppDownloadedCount(appD),\n            label: 'App Downloaded Report'\n          }]\n        }\n      });\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"ng-component\"]],\n    viewQuery: function HomeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pieCanvas = _t.first);\n      }\n    },\n    decls: 4,\n    vars: 0,\n    consts: [[1, \"container\"], [2, \"display\", \"block\"], [2, \"height\", \"20vh\", \"width\", \"40vw\"], [\"pieCanvas\", \"\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"canvas\", 2, 3);\n        i0.ɵɵelementEnd()();\n      }\n    },\n    encapsulation: 2\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}